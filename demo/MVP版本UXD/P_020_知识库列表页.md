### **知识库列表页 (ID: P_020)**

#### 1. 页面目标与核心功能 (Page Objectives & Core Functionality)
*   **主要目的:** 此页面是用户登录后进入知识库管理模块的**首要入口**。其核心目标是清晰、高效地展示所有用户有权访问的知识库，并引导用户快速找到并进入他们需要管理的特定知识库。
*   **解决的用户痛点/目标:** 直接满足了知识运营专员“我想在一个地方看到公司所有的知识库...以便我能快速定位到需要管理的内容”的核心需求 (`KB-MAN-001` 的起点)。
*   **在用户旅程中的角色:** 在“**旅程 1: 评估驱动的知识优化闭环**”中，此页面是用户开启知识更新工作流的**第一步**。用户在此选择一个知识库，然后才能深入到文档和知识条目的管理。

#### 2. 设计方案探索 (Design Options - Wireframes & Rationale)

*   **ASCII + Emoji 线框图 (方案 B):**
    ```
    +---------------------------------------------------------------------------------+
    | [Global Navigation Sidebar - Collapsed/Expanded]                                |
    |                                                                                 |
    |  +----------------------------------------------------------------------------+ |
    |  | 🍞 知识库                                                                  | |
    |  |                                                                            | |
    |  | <h1>📚 知识库管理</h1>                                                   | |
    |  |                                                                            | |
    |  |  [🔍 按名称搜索知识库... ]                               [⚙️ 管理] [ + 新建知识库 ] |
    |  |                                                                            | |
    |  |  +----------------------------------+ +----------------------------------+ |
    |  |  | 📘 **产品A手册**                   | | 📗 **售后支持**                   | |
    |  |  | 关于产品A的功能介绍与使用...       | | 解决客户的常见问题与故障...        | |
    |  |  |                                  | |                                  | |
    |  |  | 📄 15个文档  🕒 2天前更新        | | 📄 32个文档  🕒 5小时前更新       | |
    |  |  |                                  | |                                  | |
    |  |  | [               管理文档 ➡️ ] | | [               管理文档 ➡️ ] | |
    |  |  +----------------------------------+ +----------------------------------+ |
    |  |  +----------------------------------+ +----------------------------------+ |
    |  |  | 📙 **新员工指南**                   | |                                  | |
    |  |  | 公司文化与入职流程...              | |                                  | |
    |  |  |                                  | |                                  | |
    |  |  | 📄 8个文档   🕒 1个月前更新       | |                                  | |
    |  |  |                                  | |                                  | |
    |  |  | [               管理文档 ➡️ ] | |                                  | |
    |  |  +----------------------------------+ +----------------------------------+ |
    |  |                                                                            | |
    |  |  [ << < 1 2 3 > >> ]                                 [ Showing 1-10 of 50 ] | |
    |  +----------------------------------------------------------------------------+ |
    |                                                                                 |
    +---------------------------------------------------------------------------------+
    ```

*   **设计理念与特点 (方案 B):**
    *   **布局原则与区域划分:** 采用**卡片式网格布局 (Card-based Grid Layout)**。每个知识库作为一个独立的视觉单元，信息被聚合在卡片内部。这种布局更具呼吸感和视觉吸引力。
    *   **信息组织与内容呈现:**
        *   **核心理念:** 以任务为中心，强调每个知识库的独立性，并通过明确的行动号召（Call to Action）按钮引导用户进入下一步操作。
        *   **设计选择:** 遵循【清晰】原则，每张卡片内的信息层级分明（标题 > 描述 > 元数据 > 操作），降低了用户一次性处理所有信息的认知负荷。
    *   **关键UI组件选择:**
        *   **卡片 (Card):** 将相关信息封装成一个内聚的、可独立操作的单元，视觉分隔清晰。
        *   **主操作按钮 (Primary Action Button):** 每张卡片底部都有一个“管理文档”按钮，为用户提供了非常明确的操作指引，增强了【可用性】。
    *   **页面级导航逻辑:**
        *   用户通过点击卡片上的**“管理文档 ➡️”按钮**来导航至“文档列表页 (`P_021`)”。整个卡片区域也可作为点击目标，以提供更大的交互热区。
    *   **与全局策略的关联:** 同样完全遵循全局布局策略。卡片网格构成了主内容区的核心。
    *   **优缺点简析:**
        *   **优点:** 视觉友好，每个项目的信息聚合度高，操作指引清晰。更适合知识库数量不多，或每个知识库需要被当作独立“项目”来感知的场景。
        *   **缺点:** 信息密度较低，当知识库数量非常多时，纵向滚动距离会变长，不便于在多个项目间进行快速的元数据比较。


#### 3. 交互行为与用户流 (Interaction Behaviors & User Flows)
*本节将为您选定的方案B，详细阐述其动态行为和各种状态和异常情况的处理。*

*   **核心用户操作流: 定位并进入特定知识库**
    *   此流程描述了知识运营专员小张如何从本页面进入一个具体知识库的文档列表。
        1.  **意图与起点:** 用户小张登录系统后，进入“知识库列表页” (`P_020`)，他的目标是更新“产品A手册”中的内容。
        2.  **触发动作 (UI元素):** 小张在卡片网格中快速浏览。如果知识库数量较多，他会使用页面头部的 `[🔍 按名称搜索知识库... ]` 搜索框，输入“产品A”。
        3.  **系统反馈 (UI元素):**
            *   在输入过程中，卡片列表会**实时**根据输入内容进行筛选，只显示标题或描述中包含“产品A”的知识库卡片。
            *   当鼠标悬停在“产品A手册”卡片上时，卡片会有轻微的上浮或阴影加深效果，光标变为手型，明确指示整个卡片是可点击的。
        4.  **用户交互与提交 (UI元素):** 小张点击“产品A手册”卡片内的 **`[ 管理文档 ➡️ ]` 按钮**（或卡片的任意位置）。
        5.  **完成与导航:** 系统立即导航至该知识库对应的“文档列表页” (`P_021`)。在页面跳转期间，会显示下一页面的骨架屏或一个全局加载指示器，以提供及时的过渡反馈。
*   **核心用户操作流: 统一管理知识库权限 (系统管理员)**
    *   此流程描述了系统管理员如何使用统一的权限管理入口，为任何知识库分配角色，以实现 `FEAT-KM-100` 的需求。
        1.  **意图与起点:** 系统管理员登录系统后，进入“知识库列表页” (`P_020`)，他的目标是为多个知识库调整权限设置。
        2.  **触发动作 (UI元素):** 管理员点击页面右上方的 **`[⚙️ 管理]`** 按钮。
        3.  **系统反馈 (UI元素):** 系统弹出一个“知识库权限管理”模态框（Modal Dialog）。该模态框初始状态包含：
            *   一个知识库选择器（例如，下拉菜单或带搜索功能的列表），默认显示“请选择要管理的知识库”。
            *   一个用于显示权限设置的空白或禁用区域。
        4.  **用户交互 (UI元素):** 管理员在知识库选择器中搜索并选择“产品A手册”。
        5.  **系统反馈 (UI元素):** 模态框的权限设置区域被激活并加载“产品A手册”的当前权限信息，包含：
            *   当前已指派的管理员和运营专员列表。
            *   添加/移除人员的入口。
        6.  **用户交互与提交 (UI元素):** 管理员在模态框中搜索并选择用户“小李”，然后点击“保存”按钮。
        7.  **完成与反馈:** 模态框关闭，系统显示一个短暂的成功提示（Toast Notification）：“‘产品A手册’知识库角色已更新。” 页面保持在知识库列表页。

    *   **关键交互与反馈:**
        *   **卡片悬停 (Hover):** 遵循【反馈及时】原则，当鼠标指针悬停在任意知识库卡片上时，该卡片应有明确的视觉反馈（如阴影加深、边框高亮），表明其可交互性。
        *   **搜索交互:** 搜索框应为动态筛选，无需点击按钮。若搜索无结果，主内容区应切换至“无结果”的空状态。
        *   **新建知识库:** 点击 `[ + 新建知识库 ]` 按钮，应弹出一个模态框（Modal Dialog），让用户在不离开当前页面的情况下完成创建，这遵循了【效率与清晰】原则，避免了不必要的页面跳转。

*   **状态变化:**
    *   **页面加载中 (Loading):** 当首次进入此页面或刷新时，主内容区应显示**骨架屏 (Skeleton Screen)**。骨架屏的布局应模仿最终的卡片网格（例如，显示2x2的灰色占位卡片），这能有效管理用户等待预期，提升感知性能。
    *   **列表为空 (Empty State - 初次使用):** 如果系统中没有任何知识库，页面不应显示空白。应展示一个友好的空状态视图，包含：
        *   一个相关的插图 (e.g., 一个空的文件夹或书架)。
        *   明确的标题：“开始创建您的第一个知识库”。
        *   引导性文字：“知识库是您管理所有文档和知识内容的容器。”
        *   一个醒目的主操作按钮（Call-to-Action）：“+ 创建知识库”，直接引导用户完成核心起始任务。
    *   **列表为空 (Empty State - 搜索无果):** 如果是因搜索而导致列表为空，空状态视图应显示特定文本：“未找到与 ‘[用户搜索词]’ 相关的知识库。请尝试更换关键词。”

*   **错误处理与容错性:**
    *   **场景1: 页面数据加载失败 (API请求失败):**
        *   **处理方式:** 如果获取知识库列表的API请求失败，主内容区不应崩溃或显示技术性错误码。应展示一个用户友好的错误组件，包含：
            1.  清晰、非技术性的提示信息：“哦噢，加载知识库列表失败了。”
            2.  简要的原因或建议：“请检查您的网络连接，或稍后再试。”
            3.  一个“**重试**”按钮，允许用户一键重新发起API请求。
        *   **原则体现:** 这个设计提供了清晰的恢复路径，完美体现了【**容错性 (Forgiveness)**】原则。
    *   **场景2: 创建新知识库失败 (API请求失败):**
        *   **处理方式:** 当用户在模态框中提交创建请求但API调用失败时，模态框不应立即关闭。应在模态框内部（例如，在“保存”按钮旁）显示错误信息，如：“创建失败：知识库名称已存在。” 或 “创建失败：与服务器通信出错。” 这样用户可以修正输入或重试，而不会丢失已填写的内容。
